<!DOCTYPE html>
<html>
<head><title>Admin Panel</title></head>
<body>
  <h2>Visitor Logs</h2>
  <table border="1">
    <thead>
      <tr>
        <th>ID</th>
        <th>IP</th>
        <th>Location</th>
        <th>ISP</th>
        <th>Time</th>
      </tr>
    </thead>
    <tbody id="logs"></tbody>
  </table>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
  <script src="firebase-config.js"></script>

  <script>
    db.collection("clicks").orderBy("timestamp", "desc").get().then(snapshot => {
      const tbody = document.getElementById("logs");
      snapshot.forEach(doc => {
        const data = doc.data();
        const row = `<tr>
          <td>${data.id}</td>
          <td>${data.ip}</td>
          <td>${data.city}, ${data.region}, ${data.country}</td>
          <td>${data.org || "N/A"}</td>
          <td>${new Date(data.timestamp.toDate()).toLocaleString()}</td>
        </tr>`;
        tbody.innerHTML += row;
      });
    });
  </script>
</body>
</html>
